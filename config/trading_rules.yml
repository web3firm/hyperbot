# HyperBot Enterprise Trading Configuration
# =======================================

# Core bot settings
loop_interval: 0.5  # Main loop interval in seconds
close_positions_on_shutdown: true

# HyperLiquid connection settings
exchange:
  symbol: "SOL-USD"
  testnet: false  # Set to true for testing
  max_reconnect_attempts: 10
  request_timeout: 30

# Account management
account:
  update_interval: 5  # Update account state every 5 seconds
  max_leverage: 5     # Maximum leverage allowed
  margin_threshold: 0.8  # 80% margin usage warning
  max_daily_loss: 0.05   # 5% maximum daily loss
  max_total_loss: 0.20   # 20% maximum total session loss

# Position sizing and risk
position_sizing:
  sizing_method: "volatility_adjusted"  # fixed, percent_equity, volatility_adjusted, kelly_criterion, atr_based
  base_position_size: 0.02  # 2% of equity per trade
  max_position_size: 0.10   # 10% maximum position size
  min_position_size: 10     # $10 minimum position
  max_risk_per_trade: 0.01  # 1% risk per trade
  max_total_exposure: 3.0   # 3x maximum total exposure
  max_positions: 3          # Maximum concurrent positions
  min_cash_reserve: 0.1     # 10% cash reserve

# Risk management
risk:
  max_drawdown: 0.15        # 15% maximum drawdown
  consecutive_loss_limit: 5  # Stop after 5 consecutive losses
  volatility_threshold: 0.05 # 5% volatility threshold
  spread_threshold: 0.01     # 1% maximum spread
  min_liquidity: 1000        # $1000 minimum liquidity

# Kill switch settings
kill_switch:
  enabled: true
  max_daily_loss: 0.10      # 10% daily loss triggers kill switch
  max_drawdown: 0.20        # 20% drawdown triggers kill switch
  consecutive_losses: 7      # 7 consecutive losses triggers kill switch
  api_failure_count: 5      # 5 API failures triggers kill switch

# Drawdown monitoring
drawdown:
  max_drawdown: 0.15        # 15% maximum drawdown
  rolling_window: 24        # 24 hour rolling window
  recovery_threshold: 0.05  # 5% recovery before resuming

# Order execution settings
execution:
  default_slippage_limit: 0.005  # 0.5% maximum slippage
  max_order_attempts: 3
  order_timeout: 30         # 30 second order timeout
  partial_fill_threshold: 0.9  # Accept 90%+ fills

# Order router settings
order_router:
  max_position_size: 100
  max_orders_per_symbol: 10
  min_order_size: 0.1
  slippage_tolerance: 0.005
  retry_attempts: 3
  retry_delay: 1.0

# Slippage detection
slippage_detector:
  max_acceptable_slippage: 0.005  # 0.5%
  volatility_multiplier: 2.0
  liquidity_threshold: 1000  # $1000
  history_length: 100
  min_data_points: 10

# Signal generation
signals:
  confidence_threshold: 0.6  # Minimum 60% confidence
  max_signals_per_minute: 5
  signal_cooldown: 30        # 30 second cooldown between signals

# Trading strategies
scalping_v1:
  enabled: true
  rsi_period: 14
  rsi_oversold: 30
  rsi_overbought: 70
  ema_fast: 9
  ema_slow: 21
  take_profit_pct: 0.015     # 1.5% take profit
  stop_loss_pct: 0.007       # 0.7% stop loss
  min_spread_threshold: 0.001 # 0.1% minimum spread

momentum_v2:
  enabled: true
  ema_fast: 9
  ema_slow: 50
  rsi_period: 14
  atr_period: 14
  volume_threshold: 1.5      # 1.5x average volume
  take_profit_atr_multiple: 2.0  # 2x ATR for take profit
  stop_loss_atr_multiple: 1.0    # 1x ATR for stop loss

# Monitoring and logging
logging:
  level: "INFO"              # DEBUG, INFO, WARNING, ERROR
  console_output: true
  file_output: true
  log_directory: "storage/logs"
  max_file_size: "100MB"
  backup_count: 10
  log_trades: true
  log_signals: true
  log_market_data: false

# Metrics and monitoring
metrics:
  update_interval: 30        # Update metrics every 30 seconds
  save_interval: 300         # Save metrics every 5 minutes
  dashboard_port: 8080       # Web dashboard port
  export_csv: true
  export_json: true

# Telegram notifications (optional)
telegram:
  enabled: false
  bot_token: ""              # Set via environment variable
  chat_id: ""                # Set via environment variable
  startup_message: true
  trade_alerts: true
  error_alerts: true
  daily_summary: true

# Data collection for AI
data_collection:
  enabled: true
  database_path: "data/trades.db"
  backup_interval: 3600      # Backup every hour
  max_records: 100000        # Keep last 100k records
  export_format: "csv"       # csv, json, parquet
  
  # What to collect
  collect_trades: true
  collect_market_data: true
  collect_orderbook: true
  collect_signals: true
  collect_account_state: true

# Backtesting settings (for future use)
backtesting:
  data_directory: "data/historical"
  initial_balance: 10000
  commission: 0.0004         # 0.04% commission
  slippage: 0.001           # 0.1% slippage simulation

# Development and testing
development:
  debug_mode: false
  mock_trading: false        # Set to true to disable real orders
  dry_run: false            # Log trades without executing
  test_with_small_amounts: true